# RUN: llvm-profdata merge --max-trace-length=0 %s -o %t.profdata
# RUN: llvm-profdata show --function-traces %t.profdata | FileCheck %s --check-prefix=NONE

# RUN: llvm-profdata merge --max-trace-length=2 %s -o %t.profdata
# RUN: llvm-profdata show --function-traces %t.profdata | FileCheck %s --check-prefixes=CHECK,SOME

# RUN: llvm-profdata merge --max-trace-length=1000 %s -o %t.profdata
# RUN: llvm-profdata show --function-traces %t.profdata | FileCheck %s --check-prefixes=CHECK,ALL

# NONE: Function Traces (samples=0 seen=0):
# CHECK: Function Traces (samples=1 seen=1):
# SOME:   Trace 0 (count=2):
# ALL:    Trace 0 (count=3):

# Header
:ir
:traces
# Num Traces
1
# Trace Stream Size:
1
a, b, c


a
# Func Hash:
0x1234
# Num Counters:
1
# Counter Values:
101

b
0x5678
1
202

c
0xabcd
1
303
